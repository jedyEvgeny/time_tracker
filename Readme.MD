# Тайм-трекер
Сервис подсчёта времени исполнения задач
<h3 align="left">    
    <img src="https://img.shields.io/badge/go-%2300ADD8.svg?style=for-the-badge&logo=go&logoColor=white">
    <img src="https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white">
    <img src="https://img.shields.io/badge/git-%23F05033.svg?style=for-the-badge&logo=git&logoColor=white">
    <img src="https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white">
    <img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white">
    <img src="https://img.shields.io/badge/openapiinitiative-%23000000.svg?style=for-the-badge&logo=openapiinitiative&logoColor=white">
    <img src="https://img.shields.io/badge/Linux-FCC624?style=for-the-badge&logo=linux&logoColor=black">
</h3>  

## Обзор
Это простой инструмент отслеживания длительности исполнения задач для различных пользователей. Он делает следующее:  
- Добавляет нового пользователя в базу данных;  
- Удаляет пользователя из базы данных;  
- Изменяет информацию о пользователе в базе данных;  
- Получает пользователей с использованием фильтров и пагинации;  
- Создаёт задачу пользователю и начинает по ней отсчёт времени;  
- Останавливает отсчёт времени по задаче пользователя;  
- Получает задачи пользователя с сортировкой от задачи с большими трудозатратами к задаче с меньшими трудозатратам.  

## Содержание
1. Запуск приложения
2. Применение
3. Работа с приложением

### 1. Запуск приложения
1.1. Для запуска сервиса склонируйте проект командой в терминале:  
```git clone https://github.com/jedyEvgeny/time_tracker.git```  
1.2. Перейдите в каталог time_tracker командой в терминале:  
```cd time_tracker```  
1.3. Установите зависимости менеджером пакетов Go командой в терминале:  
```go mod download```  
1.4. Установить PostgreSQL и pgAdmin или аналог инструмента управления базами данных. При отсутствии данных инструментов, предлагается:  
1.4.1. Перейти в каталог build командой в терминале:  
```cd build```  
1.4.2. Запустить сервис PostgreSQL и pgAdmin командой в терминале (предполагается, что у вас установлен Docker Compose):  
```docker compose up -d```  
1.4.3. Перейдите на сайт pgAdmin, используя данные из файла ```compose.yaml```. По-умолчанию адрес ```http://localhost:5050/browser/```  
1.4.4. Создать сервер, используя данные из файла ```compose.yaml```.   
1.4.5. Вернуться на уровень выше в каталоге командой в терминале:  
```cd ..```  
1.5. Запустите приложение командой в терминале (предполагается, что у вас установлен Golang):  
```go run cmd/effective_mobile_test_task/main.go```  

### 2. Применение
Основная идея заключается в создании в базе данных перечня пользователей путём передачи в теле запроса клиента серии и номера паспорта. Далее для каждого пользователя задаётся задача и одновременно с этим инициируется начало её выполнения. При выполнении задачи, клиент направляет запрос о завершении задачи, и в БД сохраняется текущее время. Сервис реализует возможность получить все задачи пользователя с отображением длительности выполнения задач.  

### 3. Работа с приложением
3.1. Запустите инструмент для тестирования API, например Postman.  
3.2. Создайте запросы в Postman на основе спецификации openapi, расположенной по следующему пути:  
```api/components/schemas/out_open_api.yaml```  
3.3. Изучить, какие запросы поддерживает сервис, можно с помощью [UI-редактора Swagger](https://editor.swagger.io/).  
3.4. INFO-логи о штатной работе сервиса выводятся в терминал.  
3.5. DEBUG-логи сохраняются в файл, расположенный по следующему пути:  
```logs/log_debug.log```  